{"version":3,"sources":["App.js","index.js"],"names":["Chart","data","margin","width","height","xScale","d3","domain","item","x","range","yScale","y","line","getTime","Date","time","colorScale","console","log","ticks","viewBox","transform","fill","stroke","d","map","i","date","key","r","opacity","getFullYear","getMonth","toString","padStart","getDate","getHours","dominantBaseline","fontSize","App","useState","setData","useEffect","fetch","then","response","json","data1","setData1","className","render","document","querySelector"],"mappings":"iMAGMA,EAAQ,SAAC,GAAc,IAAZC,EAAW,EAAXA,KAGTC,EAAiB,GAAjBA,EAAqC,GACrCC,EAAQD,EADoB,GAFb,IAIfE,EAASF,EAFwC,GADjC,IAIhBG,EAASC,MAEZC,OAAOD,IAAUL,GAAM,SAACO,GAAD,OAAUA,EAAKC,MACtCC,MAAM,CAAC,EARW,MASfC,EAASL,MAEZC,OAAOD,IAAUL,GAAM,SAACO,GAAD,OAAUA,EAAKI,MACtCF,MAAM,CAXa,IAWG,IACnBG,EAAOP,MAEVG,GAAE,SAACD,GAAD,OAAUH,EAAOG,EAAKC,MACxBG,GAAE,SAACJ,GAAD,OAAUG,EAAOH,EAAKI,MACrBE,EAAU,SAACN,GAEf,OADa,IAAIO,KAAKP,EAAKQ,MACfF,WAERG,EAAaX,IACAA,KAChBC,OAAOD,IAAUL,EAAMa,IAE1B,OADAI,QAAQC,IAAIF,EAAWG,SAErB,yBAAKC,QAAO,cAASlB,EAAT,YAAkBC,IAC5B,uBAAGkB,UAAS,oBAAepB,EAAf,aAA+BA,EAA/B,MACV,2BACE,0BAAMqB,KAAK,OAAOC,OAAO,YAAYC,EAAGZ,EAAKZ,MAE/C,2BACGA,EAAKyB,KAAI,SAAClB,EAAMmB,GACf,IAAMC,EAAO,IAAIb,KAAKP,EAAKQ,MAE3B,OACE,uBACEa,IAAKF,EACLL,UAAS,oBAAejB,EAAOG,EAAKC,GAA3B,aAAkCE,EAAOH,EAAKI,GAA9C,MAET,4BACEkB,EAAE,IACFC,QAAQ,MACRR,KAAI,UAAKN,EAAWH,EAAQN,MAE5B,+BACGoB,EAAKI,eACJJ,EAAKK,WAAa,GAAGC,WAAWC,SAAS,EAAG,KAC7CP,EAAKQ,UAAUF,WAAWC,SAAS,EAAG,KAHzC,IAIGP,EAAKS,mBAWpB,uBACEf,UAAS,oBAAepB,EAAf,aACPA,EA7Dc,IA6De,GADtB,MAIRe,EAAWG,QAAQM,KAAI,SAAClB,EAAMmB,GAC7B,IAAMC,EAAO,IAAIb,KAAKP,GACtB,OACE,uBAAGqB,IAAKF,EAAGL,UAAS,oBAAe,GAAKK,EAApB,KAA0B,EAA1B,MAClB,4BAAQG,EAAE,IAAIC,QAAQ,MAAMR,KAAI,UAAKN,EAAWT,MAChD,0BAAM8B,iBAAiB,UAAUC,SAAS,IAAI9B,EAAE,KAC7CmB,EAAKI,eACJJ,EAAKK,WAAa,GAAGC,WAAWC,SAAS,EAAG,KAC7CP,EAAKQ,UAAUF,WAAWC,SAAS,EAAG,aAiExCK,EAvDH,WAAO,IAAD,EACQC,mBAAS,IADjB,mBACTxC,EADS,KACHyC,EADG,KAEhBC,qBAAU,WACRC,MAAM,wCAEHC,MAAK,SAACC,GAAD,OAAcA,EAASC,UAE5BF,MAAK,SAAC5C,GACLyC,EAAQzC,QAEX,IAVa,MAYUwC,mBAAS,IAZnB,mBAYTO,EAZS,KAYFC,EAZE,KAwBhB,OAXAN,qBAAU,WACRC,MAAM,wCAEHC,MAAK,SAACC,GAAD,OAAcA,EAASC,UAE5BF,MAAK,SAACG,GACLC,EAASD,QAEZ,IAEH9B,QAAQC,IAAIlB,GAEV,6BACE,6BAASiD,UAAU,mBACjB,yBAAKA,UAAU,aACb,yBAAKA,UAAU,aACb,wBAAIA,UAAU,SAAd,SACA,wBAAIA,UAAU,YAAd,YAIN,6BAASA,UAAU,WACjB,yBAAKA,UAAU,aACb,yBAAKA,UAAU,UACb,yBAAKA,UAAU,aACb,wBAAIA,UAAU,cAAd,oCAEF,yBAAKA,UAAU,OACb,kBAAC,EAAD,CAAOjD,KAAM+C,QAKrB,4BAAQE,UAAU,UAChB,yBAAKA,UAAU,6BACb,wDClIVC,iBAAO,kBAAC,EAAD,MAASC,SAASC,cAAc,e","file":"static/js/main.f7a42d98.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport * as d3 from \"d3\";\n\nconst Chart = ({ data }) => {\n  const contentWidth = 800;\n  const contentHeight = 600;\n  const margin = { left: 20, right: 20, top: 20, bottom: 70 };\n  const width = margin.left + margin.right + contentWidth;\n  const height = margin.top + margin.bottom + contentHeight;\n  const xScale = d3\n    .scaleLinear()\n    .domain(d3.extent(data, (item) => item.x))\n    .range([0, contentWidth]);\n  const yScale = d3\n    .scaleLinear()\n    .domain(d3.extent(data, (item) => item.y))\n    .range([contentHeight, 0]);\n  const line = d3\n    .line()\n    .x((item) => xScale(item.x))\n    .y((item) => yScale(item.y));\n  const getTime = (item) => {\n    const date = new Date(item.time);\n    return date.getTime();\n  };\n  const colorScale = d3\n    .scaleSequential(d3.interpolateCool)\n    .domain(d3.extent(data, getTime));\n  console.log(colorScale.ticks());\n  return (\n    <svg viewBox={`0 0 ${width} ${height}`}>\n      <g transform={`translate(${margin.left}, ${margin.top})`}>\n        <g>\n          <path fill=\"none\" stroke=\"lightgray\" d={line(data)} />\n        </g>\n        <g>\n          {data.map((item, i) => {\n            const date = new Date(item.time);\n\n            return (\n              <g\n                key={i}\n                transform={`translate(${xScale(item.x)}, ${yScale(item.y)})`}\n              >\n                <circle\n                  r=\"3\"\n                  opacity=\"0.5\"\n                  fill={`${colorScale(getTime(item))}`}\n                >\n                  <title>\n                    {date.getFullYear()}\n                    {(date.getMonth() + 1).toString().padStart(2, \"0\")}\n                    {date.getDate().toString().padStart(2, \"0\")}-\n                    {date.getHours()}\n                  </title>\n                </circle>\n                {/* <text textAnchor=\"middle\" dominantBaseline=\"central\">\n                  {i}\n                </text> */}\n              </g>\n            );\n          })}\n        </g>\n      </g>\n      <g\n        transform={`translate(${margin.left}, ${\n          margin.top + contentHeight + 25\n        })`}\n      >\n        {colorScale.ticks().map((item, i) => {\n          const date = new Date(item);\n          return (\n            <g key={i} transform={`translate(${80 * i}, ${0})`}>\n              <circle r=\"2\" opacity=\"0.5\" fill={`${colorScale(item)}`}></circle>\n              <text dominantBaseline=\"central\" fontSize=\"8\" x=\"5\">\n                {date.getFullYear()}\n                {(date.getMonth() + 1).toString().padStart(2, \"0\")}\n                {date.getDate().toString().padStart(2, \"0\")}\n              </text>\n            </g>\n          );\n        })}\n      </g>\n    </svg>\n  );\n};\n\nconst App = () => {\n  const [data, setData] = useState([]);\n  useEffect(() => {\n    fetch(\"twi_time_coordinate_200_w8_ws10.json\")\n      // fetch(\"test.json\")\n      .then((response) => response.json())\n      // .then((text) => console.log(text));\n      .then((data) => {\n        setData(data);\n      });\n  }, []);\n\n  const [data1, setData1] = useState([]);\n  useEffect(() => {\n    fetch(\"twi_time_coordinate_200_w8_ws20.json\")\n      // fetch(\"test.json\")\n      .then((response) => response.json())\n      // .then((text) => console.log(text));\n      .then((data1) => {\n        setData1(data1);\n      });\n  }, []);\n\n  console.log(data);\n  return (\n    <div>\n      <section className=\"hero is-primary\">\n        <div className=\"hero-body\">\n          <div className=\"container\">\n            <h1 className=\"title\">hello</h1>\n            <h2 className=\"subtitle\">hello</h2>\n          </div>\n        </div>\n      </section>\n      <section className=\"section\">\n        <div className=\"container\">\n          <div className=\"column\">\n            <div className=\"container\">\n              <h3 className=\"title is-4\">twi_time_coordinate_200_w8_ws20</h3>\n            </div>\n            <div className=\"box\">\n              <Chart data={data1} />\n            </div>\n          </div>\n        </div>\n      </section>\n      <footer className=\"footer\">\n        <div className=\"content has-text-centered\">\n          <p>&copy;2020 xiaotiandong</p>\n        </div>\n      </footer>\n    </div>\n  );\n};\n\nexport default App;\n","import \"bulma/css/bulma.css\";\nimport React from \"react\";\nimport { render } from \"react-dom\";\nimport App from \"./App\";\n\nrender(<App />, document.querySelector(\"#content\"));\n"],"sourceRoot":""}